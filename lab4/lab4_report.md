# Лабораторная работа №4 "Разработка инфраструктуры MVP AI приложения."

> [!NOTE]
> University: [ITMO University](https://itmo.ru/ru/)</br>
> Faculty: [FICT](https://fict.itmo.ru)</br>
> Course: [Cloud platforms as the basis of technology entrepreneurship](https://itmo-ict-faculty.github.io/cloud-platforms-as-the-basis-of-technology-entrepreneurship/)</br>
> Year: 2023/2024</br>
> Group: U4125</br>
> Author: Malov Igor Vyacheslavovich </br>
> Lab: Lab4</br>
> Date of create: 29.09.2024</br>
> Date of finished: 29.09.2024</br>

### Идея
**Описание:** AI-приложение, которое помогает пользователям находить напарников для совместного развития навыков и привычек.
### Инфраструктура
**Схема:** ![Диаграмма без названия drawio](https://github.com/user-attachments/assets/994a7bdf-0b18-4a9d-bfd0-92ba21f72535)

### Компоненты инфраструктуры

- **Cloud Load Balancing** – для маршрутизирования трафика
- **Google Cloud Endpoints** - для подключения API, связи back и front
- **Google Cloud Functions** - для выполнения небольших функций и обработки запросов от мобильного приложения:
- **Google Kubernetes Engine** - для более сложной бизнес-логики и масштабируемых микросервисов
- **Google Firestore (NoSQL)** - для хранения данных пользователей, база данных которая легко масштабируется
- **Google Vertex AI или AutoML** - чтобы обучать и развертывать модели, для поиска напарников
- **Google Cloud Monitoring** - для отслеживания работоспособности всех сервисов приложения, а также для анализа использования


### Нагрзузка и расчет экономическиъ моделей 

**Модель 1: начальная(10 пользователей)**
В этой модели минимальная нагрузка на ресурсы, поскольку количество запросов, хранения данных и операций будет невелико.

- Cloud Load Balancing:Трафик: Очень небольшой, так как 10 пользователей генерируют незначительное количество запросов.
Расходы: Около $0–$5 в месяц за балансировщик и минимальные объемы трафика (первые 5 ГБ бесплатны, затем ~$0.008 за ГБ).

- Google Cloud Endpoints:
API-запросы: Около 1000–5000 запросов в месяц.
Расходы: Поскольку первые миллионы запросов бесплатны, затраты будут около $0.

- Google Cloud Functions:
Вызовы функций: Низкая нагрузка, около 10 000–50 000 вызовов в месяц.
Расходы: Бесплатный уровень покрывает до 2 миллионов вызовов в месяц, так что затраты будут около $0.

- Google Kubernetes Engine (GKE):
Ресурсы: Минимальный кластер с одной-двумя нодами.
Расходы: Если использовать небольшие инстансы, минимальная конфигурация может стоить ~$20–$50 в месяц.

- Google Firestore (NoSQL):
Объем данных: До 100 МБ данных (учетные записи пользователей, цели, привычки).
Операции чтения/записи: До 10 000 операций в месяц.
Расходы: Бесплатный уровень покрывает до 1 ГБ данных и до 50 000 операций в день, затраты — $0.

- Google Vertex AI или AutoML:
Модель машинного обучения: Обучение минимальной модели.
Расходы: Можно использовать бесплатный уровень Vertex AI, минимальные затраты — $0.
- Google Cloud Monitoring:
Метрики: Отслеживание до 50–100 метрик.
Расходы: Бесплатный уровень предоставляет до 150 метрик, так что стоимость будет $0.

**Общие расходы для 10 пользователей: $20–$50 в месяц.**

**Модель 2: тестирование партнерами(500 пользователей)**
В этой модели нагрузка увеличивается, что отражается на количестве операций, объеме данных и вызовах функций.

- Cloud Load Balancing:
Трафик: Более значительный, около 50–100 ГБ данных в месяц.
Расходы: Около $10–$20 в месяц за балансировщик и трафик (например, $0.008 за ГБ).
- Google Cloud Endpoints:
API-запросы: Около 100 000–500 000 запросов в месяц.
Расходы: Бесплатный лимит будет исчерпан, затраты составят около $3 за миллион запросов. Оценочно — $3–$5 в месяц.
- Google Cloud Functions:
Вызовы функций: Около 500 000–1 миллиона вызовов в месяц.
Расходы: При использовании сверх бесплатного лимита, стоимость составит ~$0.40 за миллион вызовов. Затраты составят ~$0–$1.
- Google Kubernetes Engine (GKE):
Ресурсы: Средний кластер с 2–3 нодами.
Расходы: Стоимость может составлять около $50–$150 в месяц, в зависимости от размеров нод.
- Google Firestore (NoSQL):
Объем данных: До 1 ГБ данных (500 пользователей и их привычки, цели и взаимодействия).
Операции чтения/записи: Около 500 000 операций в месяц.
Расходы: Затраты могут составлять около $2–$5 в месяц (например, $0.18 за ГБ и $0.06 за 100 000 операций записи).
- Google Vertex AI или AutoML:
Модель машинного обучения: Обновление модели на реальных данных.
Расходы: Примерно $10–$50 в месяц за обучение и предсказания, в зависимости от частоты использования.
- Google Cloud Monitoring:
Метрики: Отслеживание около 200–300 метрик.
Расходы: Около $0.25 за 1000 метрик в месяц, итоговая стоимость ~$5–$10 в месяц.

**Общие расходы для 500 пользователей: $80–$240 в месяц.**


**Модель 3: продовое решение(10 000 пользователей)**
Эта модель предполагает высокий уровень использования ресурсов, значительное количество операций и вызовов функций, что приведет к увеличению расходов.

- Cloud Load Balancing:
Трафик: Около 1–5 ТБ данных в месяц.
Расходы: Около $80–$100 в месяц за трафик и балансировщик (например, $0.008 за ГБ).
- Google Cloud Endpoints:
API-запросы: 1–5 миллионов запросов в месяц.
Расходы: Около $10–$15 в месяц (например, $3 за миллион запросов).
- Google Cloud Functions:
Вызовы функций: 5–10 миллионов вызовов в месяц.
Расходы: Около $2–$4 в месяц (например, $0.40 за миллион вызовов).
- Google Kubernetes Engine (GKE):
Ресурсы: Большой кластер с 5–10 нодами.
Расходы: Около $200–$500 в месяц, в зависимости от нагрузки и количества ресурсов.
- Google Firestore (NoSQL):
Объем данных: До 10–20 ГБ данных (пользовательские профили, привычки, цели и взаимодействия).
Операции чтения/записи: 10–20 миллионов операций в месяц.
Расходы: Около $20–$50 в месяц за операции и хранение данных.
- Google Vertex AI или AutoML:
Модель машинного обучения: Полномасштабная обработка данных для 10 000 пользователей.
Расходы: Около $100–$300 в месяц, в зависимости от частоты обучения и предсказаний.
- Google Cloud Monitoring:
Метрики: Отслеживание около 1000 метрик.
Расходы: Около $20–$30 в месяц за мониторинг (например, $0.25 за 1000 метрик).

**Общие расходы для 10 000 пользователей: $400–$1000 в месяц.**

**Вывод:**
Для 10 пользователей можно использовать бесплатные уровни или минимальные конфигурации, что сделает расходы незначительными (до $50 в месяц).
Для 500 пользователей потребуется больше ресурсов, и расходы возрастут до $80–$240 в месяц, так как необходимо больше API-запросов, вызовов функций и хранения данных.
Для 10 000 пользователей система потребует серьезного масштабирования всех компонентов, и расходы могут достигать $400–$1000 в месяц, особенно за счет увеличения трафика, вычислительных мощностей и машинного обучения.

